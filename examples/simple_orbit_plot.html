<!doctype html>
<html>
  <head>
    <title>Simple orbit plot</title>
    <!-- We load jQuery just for displaying the script used to generate the plot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- We load Mathjax for typesetting math in the galpy plot -->
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <!-- We need to load Plotly to make plots as an external library -->
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <!-- Finally, we load galpy.js; replace with a CDN or local URL -->
    <script src="../dist/galpy.js"></script>
    <!-- The following is some simple styling of the javascript code shown on the page -->
    <style>
      .scriptblock {
	  border: black;
	  border-style: groove;
	  background: #e6e6e6;
	  display: inline-block;
      }

      .code {
	  font-family: Courier New, Courier, monospace;
      }
    </style>
  </head>
  <body>
    <h1>A simple orbit plot with <span class="code">galpy.js</span></h1>
    <!-- The following div just shows the script -->
    <div class="scriptblock code"><p id="script-div"></p></div>
    <!-- The next div will hold the orbit plot -->
    <div id="galpy-orbit-graph" style="width:600px;height:400px;"></div>
    <!-- The following script computes a simple orbit and plots it -->
    <script id="simple-orbit-script">
      let ip= new galpy.potential.IsochronePotential(b=2.).normalize(1.);
      let o= new galpy.orbit.Orbit([1.,0.1,1.1,0.1,0.,0.]);
      o.integrate([0.,100.,101],ip,rtol=1.49012e-6,atol=1.49012e-6);
      o.plot('galpy-orbit-graph');
    </script>
    <!-- The next script copies the above script to be displayed on the generated HTML page -->
    <script>
      let scriptContent= $('#simple-orbit-script').html();
      scriptContent= scriptContent.substring(1,scriptContent.length-2).replace(/\n/g, "<br/>");
      $('#script-div').html(scriptContent);
      </script>
  </body>
</html>
